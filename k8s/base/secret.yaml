# NOTE: ECR credentials should be managed via IAM Roles for Service Accounts (IRSA)
# or External Secrets Operator, not as a static secret.
#
# For IRSA approach (recommended):
# 1. Create IAM role with ECR pull permissions
# 2. Annotate the ServiceAccount with the role ARN:
#    eks.amazonaws.com/role-arn: arn:aws:iam::ACCOUNT_ID:role/ROLE_NAME
# 3. Pods will automatically get ECR credentials
#
# If you must use a static secret (not recommended), uncomment and populate:
# ---
# apiVersion: v1
# kind: Secret
# metadata:
#   name: container-registry
#   namespace: product-catalog
#   labels:
#     app: product-catalog
#     config-type: registry-credentials
# type: kubernetes.io/dockerconfigjson
# stringData:
#   .dockerconfigjson: |
#     {
#       "auths": {
#         "692298411961.dkr.ecr.us-east-1.amazonaws.com": {
#           "username": "AWS",
#           "password": "<ECR_TOKEN>",
#           "auth": "<BASE64_OF_AWS:ECR_TOKEN>"
#         }
#       }
#     }
---
apiVersion: v1
kind: Secret
metadata:
  name: postgres-credentials
  namespace: product-catalog
  labels:
    app: product-catalog
    config-type: database-credentials
type: Opaque
stringData:
  POSTGRES_USER: "postgres"
  POSTGRES_PASSWORD: "your-database-password-change-in-production"
  POSTGRES_DB: "product_catalog_db"
---
apiVersion: v1
kind: Secret
metadata:
  name: product-catalog-secrets
  namespace: product-catalog
  labels:
    app: product-catalog
    config-type: secrets
type: Opaque
stringData:
  # IMPORTANT: Update with your actual AWS RDS endpoint
  # Format: jdbc:postgresql://<rds-endpoint>:<port>/<database-name>
  # Example: jdbc:postgresql://mydb.abc123.us-east-1.rds.amazonaws.com:5432/product_catalog_db
  db-url: "jdbc:postgresql://base-infrastructure-dev-app-db.ced8882c83js.us-east-1.rds.amazonaws.com:5432/appdb"
  db-username: "postgres"
  db-password: "kmWh%IMo9jz-NCe_18T$F30Z7L*6qp6Y"
  jwt-secret: "your-development-jwt-secret-key-change-in-production-use-strong-random-key"

